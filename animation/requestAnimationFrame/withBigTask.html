<!DOCTYPE html>
<html>

<head>
    <title>requestAnimationFrameWithBigTask</title>
    <style>
        #test {
            height: 100px;
            width: 100px;
        }
    </style>
</head>

<body>
    <div id="test"></div>
    <script>
        let test = document.getElementById('test');
        function changeBg() {
            //console.log(window.getComputedStyle(test)['backgroundColor']);
            if (window.getComputedStyle(test)['backgroundColor'] == 'rgb(173, 216, 230)') {
                test.style.backgroundColor = 'black';
                let i =0;
                while(i<2000000000){
                    ++i;
                }
            } else {
                test.style.backgroundColor = 'lightblue';
            }
            requestAnimationFrame(changeBg);
        }
        requestAnimationFrame(changeBg);
    </script>
</body>

</html>