<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>print</title>
</head>

<body>
    <button onclick="start()">sendMessage</button>
    <script>
        let worker = new Worker("http://localhost:8080/worker.js");
        let first = [1, 2, 3, 4];
        let second = ['a', 'b', 'c'];
        async function start() {
            console.log(first.shift());
            for (let i = 0; i < second.length; i++) {
                worker.postMessage(second[i]);
                let temp = await print();
                console.log(temp);
                console.log(first[i]);
            }
        }

        function print() {
            return new Promise((resolve, reject) => {
                worker.onmessage = function (e) {
                    resolve(e.data);
                }
            })
        }
    </script>
</body>

</html>