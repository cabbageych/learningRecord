<!DOCTYPE html>
<html>

<head>
    <title>cases</title>
    <style>
    </style>
</head>

<body>
    <canvas id="c1" height="300" width="300"></canvas>
    <canvas id="c2" height="300" width="300"></canvas>
    <canvas id="c3" height="300" width="300"></canvas>
    <canvas id="c4" height="300" width="300"></canvas>
    <canvas id="c5" height="650" width="600"></canvas>
    <canvas id="c6" height="300" width="300"></canvas>
    <canvas id="c7" height="300" width="300"></canvas>
    <canvas id="c8" height="300" width="300"></canvas>
    <canvas id="c9" height="350" width="300"></canvas>
    <canvas id="c10" height="300" width="300"></canvas>
    <canvas id="c11" height="300" width="300"></canvas>
    <canvas id="c12" height="300" width="300"></canvas>
    <div id="color" style="height: 100px;width: 100px;"></div>

    <script>
        let c1 = document.getElementById('c1');
        let c2 = document.getElementById('c2');
        let c3 = document.getElementById('c3');
        let c4 = document.getElementById('c4');
        let c5 = document.getElementById('c5');
        let c6 = document.getElementById('c6');
        let c7 = document.getElementById('c7');
        let c8 = document.getElementById('c8');
        let c9 = document.getElementById('c9');
        let c10 = document.getElementById('c10');
        let c11 = document.getElementById('c11');
        let c12 = document.getElementById('c12');



        let ctx = c1.getContext('2d');
        for (let i = 0; i < 6; i++) {
            for (let j = 0; j < 6; j++) {
                ctx.fillStyle = 'rgb(' + Math.floor(180 - 30 * i) + ',0,' + Math.floor(360 - j * 60) + ')';
                ctx.fillRect(i * 30, j * 30, 30, 30);
            }
        }
        ctx.font = "30px serif";
        ctx.fillText('渐变效果', 30, 220);


        let ctx2 = c2.getContext('2d');
        ctx2.lineWidth = 10;
        ctx2.lineCap = 'round';
        ctx2.beginPath();
        ctx2.moveTo(100.6, 100.6);
        ctx2.lineTo(100.6, 150.6);
        ctx2.lineTo(150.6, 150.6);
        ctx2.lineTo(150.6, 100.6);
        ctx2.stroke();
        ctx2.font = "30px serif";
        ctx2.fillText('矩形(line)', 30, 220);


        let ctx3 = c3.getContext('2d');
        ctx3.setLineDash([4, 3, 2, 1]);
        ctx3.lineDashOffset = -2;
        ctx3.strokeRect(20, 20, 200, 200);
        ctx3.font = "30px serif";
        ctx3.fillText('虚线', 30, 250);


        let ctx4 = c4.getContext('2d');
        let g = ctx4.createRadialGradient(100, 100, 0, 100, 100, 100);
        g.addColorStop(0, 'white');
        g.addColorStop(1, 'black');
        ctx4.fillStyle = g;
        ctx4.arc(100, 100, 100, 0, Math.PI * 2, true);
        ctx4.fill();
        ctx4.font = "30px serif";
        ctx4.fillText('圆形渐变', 30, 250);

        let ctx5 = c5.getContext('2d');
        let pattern = ctx5.createPattern(c4, 'repeat');
        ctx5.fillStyle = pattern;
        ctx5.fillRect(0, 0, 600, 600);


        let ctx6 = c6.getContext('2d');
        let img = new Image();
        img.onload = function () {
            ctx6.drawImage(img, 50, 50, 100, 100);
            ctx6.drawImage(img, 20, 20, 100, 100, 130, 130, 100, 100); //切片（裁剪img中图像到指定位置）
        }
        img.src = "./IMG_20170425_164207.jpg";
        ctx6.font = "30px serif";
        ctx6.fillText('drawImage', 30, 250);


        let ctx7 = c7.getContext('2d');
        ctx7.fillRect(0, 0, 220, 220);
        ctx7.save();
        ctx7.fillStyle = 'lightblue';
        ctx7.fillRect(20, 20, 180, 180);
        ctx7.save();
        ctx7.fillStyle = 'white';
        ctx7.fillRect(40, 40, 140, 140);
        ctx7.restore();
        ctx7.fillRect(60, 60, 100, 100);
        ctx7.restore();
        ctx7.fillRect(80, 80, 60, 60);
        ctx7.font = "30px serif";
        ctx7.fillText('save and restore', 30, 250);


        let ctx8 = c8.getContext('2d');
        for (let i = 0; i < 3; i++) {
            for (let j = 0; j < 3; j++) {
                ctx8.save();
                ctx8.translate(i * 35, j * 35);
                ctx8.fillStyle = 'rgb(' + i * 30 + ',0,' + j * 30 + ')';
                ctx8.fillRect(0, 0, 30, 30);
                ctx8.restore();
            }
        }
        ctx8.font = "30px serif";
        ctx8.fillText('translate', 30, 250);


        let ctx9 = c9.getContext('2d');
        ctx9.save();
        ctx9.translate(150, 150);
        for (let i = 1; i <= 3; i++) {
            for (let j = 1; j <= 6 * i; j++) {
                ctx9.save();
                ctx9.rotate((2 * Math.PI) / (6 * i) * j);
                ctx9.fillStyle = 'rgb(' + i * 30 + ',0,' + j * 10 + ')';
                ctx9.beginPath();
                ctx9.arc(40 * i, 0, 10, 0, Math.PI * 2);
                ctx9.fill();
                ctx9.restore();
            }
        }
        ctx9.restore();
        ctx9.font = "30px serif";
        ctx9.fillText('rotate', 100, 310);
        

        let ctx10 = c10.getContext('2d');
        ctx10.save();
        ctx10.fillRect(0, 0, 50, 50);
        ctx10.scale(1, 2);
        ctx10.fillRect(50, 25, 50, 50);
        ctx10.restore();
        ctx10.scale(-1, 1);
        ctx10.font = "30px serif";
        ctx10.fillText('scale', -80, 250);


        let ctx11 = c11.getContext('2d');
        ctx11.arc(80, 80, 20, 0, Math.PI * 2);
        ctx11.clip(); //只有在clip圈定范围内作图才会被显现出来
        ctx11.fillRect(50, 50, 100, 100);
        ctx11.font = "30px serif";
        ctx11.fillText('clip', 80, 250);



        let ctx12 = c12.getContext('2d');
        let img12 = new Image();
        img12.onload = function () {
            ctx12.drawImage(img12, 50, 50, 160, 160);
        }
        img12.src = "./IMG_20170425_164207.jpg";
        let color = document.getElementById('color');



        c12.addEventListener('mousemove', function (event) {
            let x = event.layerX;
            let y = event.layerY;

            let pixel = ctx12.getImageData(x, y, 1, 1);
            let data = pixel.data;
            let rgba = 'rgba(' + data[0] + ',' + data[1] + ',' + data[2] + ',' + data[3] + ')';
            color.style.background = rgba;
            color.innerHTML = rgba;
            //console.log(pixel);
        })

        ctx12.font = "30px serif";
        ctx12.fillText('imageData', 80, 250);
    </script>
</body>

</html>