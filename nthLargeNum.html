<!DOCTYPE <!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>第n大数</title>
</head>

<body>
    <script>
        var arr = [];
        var len = Math.floor(Math.random() * 20) + 5;
        for (var i = 0; i < len; i++) {
            arr[i] = Math.floor(Math.random() * 100);
        }
        var k = Math.floor(Math.random() * arr.length);
        var result;
        function findNthNum(k, left, right) {
            if(left>=right){
                if(left === right){
                    result = arr[left];
                }
                return;
            }
            var start = left;
            var end = right;
            temp = arr[start];
            while (start < end) {
                while (start < end && arr[end] >= temp) {
                    --end;
                }
                arr[start] = arr[end];
                while (start < end && arr[start] <= temp) {
                    ++start;
                }
                arr[end] = arr[start];
            }
            arr[start] = temp;
            if (start === k) {
                result = arr[start];
                return;
            } else if(start > k){
                findNthNum(k, left, start - 1);
            }else if(start < k){
                findNthNum(k, start + 1, right);
            }
        }
        findNthNum(k, 0, arr.length - 1);
        console.log(arr);
        console.log(result + " " + k);
    </script>
</body>

</html>