<!DOCTYPE html>
<html>

<head>
    <title>iteratorGenerator</title>
</head>

<body>

    <script>
        /*生成器是一种返回迭代器的函数，通过function关键字后的星号(*)来表示，
        函数中会用到新的关键字yield。星号可以紧挨着function关键字，也可以在中间添加一个空格。*/
        //使用for...of方法替代调用next方法
        //需要注意的是，for...of遇到next返回值的done属性为true就会终止，return返回的不包括在for...of循环中。
        function* f() {
            yield 1;
            yield 2;
            yield 3;
            yield 4;
            return 5;
        }
        for (let k of f()) {
            console.log(k);
        }
        //return方法用来返回给定的值，并结束遍历Generator函数，如果return方法没有参数，则返回值的value属性为undefined。
        function* f2() {
            yield 1;
            yield 2;
            yield 3;
        }
        let g = f2();
        console.log(g.next()); //{value: 1, done: false}
        console.log(g.return('hello'));//{value: "hello", done: true}
        console.log(g.next());//{value: undefined, done: true}
        //yield*后面跟的是一个可迭代的结构(以数组为例)，它会调用该结构的迭代器接口。
        function * f3() {
            yield 1;
            yield 2;
            yield * ['hello','cabbage','21'];
            yield 4;
            return 5;
        }
        var a = f3();
        for (let k of f3()) {
            console.log(k);
        }
        console.log(a);
    </script>
</body>

</html>