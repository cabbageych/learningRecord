<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>scroll防抖</title>
</head>

<body>
    <div style="position:relative;height:2000px;width:100px;"></div>
    <script>
        var i = 0;
        function print() {
            console.log(i++);
        }
        var antiShaking = (function () {
            let timer = new Date();
            return function () {
                let temp = new Date();
                if (temp - timer > 300) {
                    //console.log(temp - timer);
                    //setTimeout(() => {
                    print();
                    //}, 0);
                    timer = temp;
                }
            }
        })();
        window.addEventListener('scroll', antiShaking, false);
    </script>
</body>

</html>