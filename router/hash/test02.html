<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>hash02</title>
    <style>

    </style>
</head>

<body>
    <input placeholder="input to set hashValue" id="hashValue" oninput="setHash()">
    <hr>
    <a href="#d3">锚点定位</a><br />
    <a id="d1">锚点01</a>
    <div style="position:relative;height:1000px;width:200px;background:blue;"></div>
    <a id="d2">锚点02</a>
    <div style="position:relative;height:1000px;width:200px; background:red;"></div>
    <a id="d3">锚点03
        <div style="position:relative;height:1000px;width:200px;background:black;"></div>
    </a>
    <script>
        var hash;
        function setHash() {
            let hashValue = document.getElementById('hashValue').value.trim();
            hash = hashValue.substr(0);
            if (hashValue !== '') {
                window.location.hash = hashValue;
            }
        }

        window.onhashchange = function () {
            console.log(hash);
        }
    </script>
</body>

</html>